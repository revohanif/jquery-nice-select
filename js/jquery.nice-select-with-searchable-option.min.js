!function(e){e.fn.niceSelect=function(t){const s={searchable:!1};let l={};if("string"==typeof t)return"update"===t?this.each((function(){let t=e(this),s=e(this).next(".nice-select"),l=s.hasClass("open");s.length&&(s.remove(),c(t),l&&t.next().trigger("click"))})):"destroy"===t?(this.each((function(){let t=e(this),s=e(this).next(".nice-select");s.length&&(s.remove(),t.css("display",""))})),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;function c(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").addClass(t.attr("multiple")?"has-multiple":"").attr("tabindex",t.attr("disabled")?null:"0").html(l.searchable?t.attr("multiple")?'<span class="multiple-options"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Search..."/></div><ul class="list"></ul>':'<span class="current"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Search..."/></div><ul class="list"></ul>':t.attr("multiple")?'<ul class="list"></ul>':'<span class="current"></span><ul class="list"></ul>'));let s=t.next(),c=t.find("option");if(t.attr("multiple")){let l=t.find("option:selected"),c="";l.each((function(){$selected_option=e(this),$selected_text=$selected_option.data("display")||$selected_option.text(),c+='<span class="current">'+$selected_text+"</span>"})),$select_placeholder=t.data("placeholder")||t.attr("placeholder"),$select_placeholder=""==$select_placeholder?"Select":$select_placeholder,c=""==c?$select_placeholder:c,s.find(".multiple-options").html(c)}else{let e=t.find("option:selected");s.find(".current").html(e.data("display")||e.text())}c.each((function(t){let l=e(this),c=l.data("display");s.find("ul").append(e("<li></li>").attr("data-value",l.val()).attr("data-display",c||null).addClass("option"+(l.is(":selected")?" selected":"")+(l.is(":disabled")?" disabled":"")).html(l.text()))}))}this.hide(),this.each((function(){let a=e(this),n={searchable:a.data("searchable")};l=e.extend({},s,n,"object"==typeof t?t:{}),a.next().hasClass("nice-select")||c(a)})),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",(function(t){let s=e(this);e(".nice-select").not(s).removeClass("open"),s.toggleClass("open"),s.hasClass("open")?(s.find(".option"),s.find(".nice-select-search").val(""),s.find(".nice-select-search").focus(),s.find(".focus").removeClass("focus"),s.find(".selected").addClass("focus"),s.find("ul li").show()):s.focus()})),e(document).on("click",".nice-select-search-box",(function(e){return e.stopPropagation(),!1})),e(document).on("keyup.nice-select-search",".nice-select",(function(){if(!l.searchable)return;let t=e(this),s=t.find(".nice-select-search").val(),c=t.find("ul li");if(""==s)c.show();else if(t.hasClass("open")){s=s.toLowerCase();let t=new RegExp(s);0<c.length?c.each((function(){let s=e(this),l=s.text().toLowerCase();t.test(l)?s.show():s.hide()})):c.show()}t.find(".option"),t.find(".focus").removeClass("focus"),t.find(".selected").addClass("focus")})),e(document).on("click.nice_select",(function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")})),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",(function(t){let s=e(this),l=s.closest(".nice-select");if(l.hasClass("has-multiple"))s.hasClass("selected")?s.removeClass("selected"):s.addClass("selected"),$selected_html="",$selected_values=[],l.find(".selected").each((function(){$selected_option=e(this);let t=$selected_option.data("display")||$selected_option.text();$selected_html+='<span class="current">'+t+"</span>",$selected_values.push($selected_option.data("value"))})),$select_placeholder=l.prev("select").data("placeholder")||l.prev("select").attr("placeholder"),$select_placeholder=""==$select_placeholder?"Select":$select_placeholder,$selected_html=""==$selected_html?$select_placeholder:$selected_html,l.find(".multiple-options").html($selected_html),l.prev("select").val($selected_values).trigger("change");else{l.find(".selected").removeClass("selected"),s.addClass("selected");let e=s.data("display")||s.text();l.find(".current").text(e),l.prev("select").val(s.data("value")).trigger("change")}})),e(document).on("keydown.nice_select",".nice-select",(function(t){let s=e(this),l=e(s.find(".focus")||s.find(".list .option.selected"));if(40==t.keyCode){if(s.hasClass("open")){let e=l.nextAll(".option:not(.disabled)").first();e.length>0&&(s.find(".focus").removeClass("focus"),e.addClass("focus"))}else s.trigger("click");return!1}if(38==t.keyCode){if(s.hasClass("open")){let e=l.prevAll(".option:not(.disabled)").first();e.length>0&&(s.find(".focus").removeClass("focus"),e.addClass("focus"))}else s.trigger("click");return!1}if(27==t.keyCode)s.hasClass("open")&&s.trigger("click");else if(9==t.keyCode&&s.hasClass("open"))return!1}));let a=document.createElement("a").style;return a.cssText="pointer-events:auto","auto"!==a.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery);